---
title: "PSY 8960 Week 8 Project"
author: "Lina Huang"
date: "*2023-03-20*"
output: html_document
---

# **Reproducible Image and Online Resources**
An image of this project as of date can be accessed by [](https://mybinder.org/v2/gh/LinaHuang1823/psy8960-week8.git/HEAD).

An interactive web app is available by clicking this link instead.

# **Script Settings and Resources**
This chunk is used to set working directory and load libraries. I load library tidyverse and conflicted for plot below.
```{r setup, echo = TRUE, results = 'hide'}
setwd(dirname(rstudioapi::getActiveDocumentContext()$path))
library(tidyverse)
library(conflicted)
library(knitr)
library(magrittr)
```


# **Data Import and Cleaning**
This chunk is used to import data and covert data to their appropriate type: time to POSIXCT,gender and condition to factor. Also It reversed code q5 as required.
```{r data-import}
library(dplyr)
week8_tbl<-read_csv("../data/week3.csv", show_col_types = FALSE)%>%
  mutate(timeStart = ymd_hms(timeStart))%>%
  mutate(condition = factor(condition, levels = c("A","B","C")))%>%
  mutate(gender = factor(gender, levels = c("M","F")))%>%
  mutate(q5=max(q5)+1-q5)

```

# **Visualization**
Created table with kable and use ggplot to visualize the mean of q1:q6 and q8:q10
```{r tables, echo=FALSE}
# display Q1-Q6 data with pagination
week8_tbl %>% 
  select(q1:q6) %>% 
  kable(align="cccccc")
  

# scatterplot with OLS regression line and shaded error band
week8_tbl %>%
  # Calculate the mean scores for each participant
  mutate(Q1_Q6_Mean = rowMeans(select(., q1:q6)),
         Q8_Q10_Mean = rowMeans(select(., q8:q10))) %>%
  # Create a scatterplot with regression line and error band
  ggplot(aes(x = Q1_Q6_Mean, y = Q8_Q10_Mean)) +
  geom_point() +
  geom_smooth(method = "lm", se = TRUE, color = "purple") +
  labs(title = "Mean Scores on Q1-Q6 vs Mean Scores on Q8-Q10",
       x = "Mean Scores on Q1-Q6",
       y = "Mean Scores on Q8-Q10") 


```

```{r}

```
